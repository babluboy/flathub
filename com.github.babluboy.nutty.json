{
    "id": "com.github.babluboy.nutty",
    "runtime": "org.gnome.Platform",
    "runtime-version" : "3.24",
    "sdk": "org.gnome.Sdk",
    "command": "nutty",
    "rename-appdata-file": "com.github.babluboy.nutty.appdata.xml",
    "finish-args": [
            "--share=ipc",
            "--socket=x11",
            "--device=dri",
            "--socket=wayland",
            "--filesystem=home",
            "--talk-name=ca.desrt.dconf",
            "--filesystem=xdg-run/dconf",
            "--filesystem=~/.config/dconf:ro",
            "--env=DCONF_USER_CONFIG_DIR=.config/dconf"
    ],

    "build-options": {
        "cflags": "-O2",
        "cxxflags": "-O2"
    },
    "modules": [
         {
                "name": "openjpeg",
                "buildsystem" : "cmake",
                "sources" : [
                        {
                                "type" : "archive",
                                "url" : "https://github.com/uclouvain/openjpeg/archive/v2.3.0.tar.gz",
                                "sha256" : "3dc787c1bb6023ba846c2a0d9b1f6e179f1cd255172bde9eb75b01f1e6c7d71a"
                        }
                ]
            },
        {
                "name": "libgee",
                "build-options": {
                "env": {
                        "PKG_CONFIG_GOBJECT_INTROSPECTION_1_0_GIRDIR": "/app/share/gir-1.0",
                        "PKG_CONFIG_GOBJECT_INTROSPECTION_1_0_TYPELIBDIR": "/app/lib/girepository-1.0"
				}
			},
			"sources": [
				{
					"type":"archive",
					"url": "https://github.com/GNOME/libgee/archive/0.20.0.tar.gz",
					"sha256": "42fe6d651910cb8b720167f71c5255a1b7b1afc82fecd3f31e61f9602b3b1335"
				}
			]
		},
		{
			"name": "granite",
			"buildsystem": "cmake",
			"config-opts": [
				"-DCMAKE_BUILD_TYPE=Release"
			],
			"build-options": {
				"env": {
					"PKG_CONFIG_GOBJECT_INTROSPECTION_1_0_GIRDIR": "/app/share/gir-1.0",
					"PKG_CONFIG_GOBJECT_INTROSPECTION_1_0_TYPELIBDIR": "/app/lib/girepository-1.0"
				}
			},
			"sources": [
				{
					"type":"archive",
					"url": "https://github.com/elementary/granite/archive/0.5.tar.gz",
					"sha256": "cc4905ae70fddeba3d2ded44bb642be77d419aa090251a7ab24c155b8616be06"
				}
			]
        },
	{
            "name": "libnotify",
            "cleanup": [ "/bin" ],
            "config-opts": [
                "--disable-static",
                "--disable-tests",
                "--disable-introspection"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.gnome.org/sources/libnotify/0.7/libnotify-0.7.7.tar.xz",
                    "sha256": "9cb4ce315b2655860c524d46b56010874214ec27e854086c1a1d0260137efc04"
                }
            ]
        },
        {
            "name": "nutty",
            "buildsystem": "cmake",
            "build-options" : {
                    "config-opts" : [
                            "-DCMAKE_INSTALL_PREFIX=/app"
                    ]
            },
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/babluboy/nutty/archive/1.0.0.tar.gz",
                    "sha256": "6a6babeb530f49a886174b7cec7a00f47ab73cce2ad680bd7dd1018b1e67f860",
                    "branch": "1.0.0",
                    "commit": "a920364ff2c40bb3869656771046d31fd25fb0ee"
                }
            ]
        }
    ]
}
